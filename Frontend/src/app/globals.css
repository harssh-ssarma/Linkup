/* stylelint-disable at-rule-no-unknown */
@tailwind base;
@tailwind components;
@tailwind utilities;

:root {
	color-scheme: light;
	--background: #ffffff;
	--background-muted: #ffffff;
	--surface: #ffffff;
	--surface-strong: #f1f5ff;
	--surface-soft: rgba(255, 255, 255, 0.72);
	--surface-overlay: rgba(255, 255, 255, 0.88);
	--surface-glass: rgba(255, 255, 255, 0.85);
	--surface-glass-strong: rgba(255, 255, 255, 0.94);

	--border-subtle: rgba(15, 23, 42, 0.08);
	--border-strong: rgba(15, 23, 42, 0.15);

	--text-primary: #0f172a;
	--text-secondary: #1f2937;
	--text-muted: #64748b;
	--text-inverse: #f8fafc;

	--accent: #2563eb;
	--accent-strong: #1d4ed8;
	--accent-soft: #e0ecff;
	--accent-subtle: #eff6ff;

	--success: #15803d;
	--warning: #c2410c;
	--danger: #dc2626;

	--shadow-sm: 0 12px 24px rgba(15, 23, 42, 0.04);
	--shadow-md: 0 20px 40px rgba(15, 23, 42, 0.08);
	--shadow-lg: 0 28px 60px rgba(15, 23, 42, 0.12);
	--shadow-nav: 0 24px 60px rgba(37, 99, 235, 0.15);
	--shadow-glow: 0 0 0 1px rgba(37, 99, 235, 0.14), 0 20px 45px rgba(37, 99, 235, 0.18);

	--space-1: 0.25rem;
	--space-2: 0.5rem;
	--space-3: 0.75rem;
	--space-4: 1rem;
	--space-5: 1.5rem;
	--space-6: 2rem;

	--radius-xs: 0.5rem;
	--radius-sm: 0.75rem;
	--radius-md: 1rem;
	--radius-lg: 1.5rem;
	--radius-xl: 2rem;

	--font-xs: 0.75rem;
	--font-sm: 0.875rem;
	--font-md: 1rem;
	--font-lg: 1.125rem;
	--font-xl: 1.25rem;
	--font-2xl: 1.5rem;

	--app-gradient: radial-gradient(circle at 0% 0%, rgba(210, 226, 255, 0.65) 0%, transparent 45%),
		radial-gradient(circle at 100% 0%, rgba(212, 255, 252, 0.5) 0%, transparent 50%),
		linear-gradient(180deg, #f6f7fb 0%, #eef2ff 35%, #ffffff 100%);

	--nav-surface: linear-gradient(180deg, rgba(255, 255, 255, 0.95) 0%, rgba(248, 250, 255, 0.92) 100%);
	--nav-bottom-surface: linear-gradient(180deg, rgba(255, 255, 255, 0.92) 0%, rgba(248, 250, 255, 0.95) 100%);
	--nav-border: rgba(15, 23, 42, 0.08);

	--input-bg: rgba(255, 255, 255, 0.96);
	--input-border: rgba(148, 163, 184, 0.24);
	--input-placeholder: rgba(100, 116, 139, 0.6);

	--bubble-sent: linear-gradient(135deg, #2563eb, #4338ca);
	--bubble-received: rgba(248, 249, 255, 0.95);
	--bubble-ai: linear-gradient(135deg, rgba(37, 99, 235, 0.12), rgba(56, 189, 248, 0.16));
}

[data-theme='dark'] {
	color-scheme: dark;
	--background: #0b1220;
	--background-muted: #101a33;
	--surface: #101a33;
	--surface-strong: #172542;
	--surface-soft: rgba(19, 30, 54, 0.8);
	--surface-overlay: rgba(16, 26, 45, 0.9);
	--surface-glass: rgba(21, 34, 58, 0.88);
	--surface-glass-strong: rgba(18, 30, 54, 0.94);

	--border-subtle: rgba(148, 163, 184, 0.16);
	--border-strong: rgba(148, 163, 184, 0.32);

	--text-primary: #f8fafc;
	--text-secondary: #e2e8f0;
	--text-muted: rgba(203, 213, 225, 0.72);
	--text-inverse: #0b1220;

	--accent: #60a5fa;
	--accent-strong: #3b82f6;
	--accent-soft: rgba(59, 130, 246, 0.18);
	--accent-subtle: rgba(37, 99, 235, 0.08);

	--success: #4ade80;
	--warning: #fb923c;
	--danger: #f87171;

	--shadow-sm: 0 12px 24px rgba(0, 0, 0, 0.25);
	--shadow-md: 0 24px 52px rgba(0, 0, 0, 0.35);
	--shadow-lg: 0 32px 70px rgba(0, 0, 0, 0.45);
	--shadow-nav: 0 24px 60px rgba(15, 23, 42, 0.45);
	--shadow-glow: 0 0 0 1px rgba(96, 165, 250, 0.3), 0 20px 45px rgba(59, 130, 246, 0.3);

	--space-1: 0.25rem;
	--space-2: 0.5rem;
	--space-3: 0.75rem;
	--space-4: 1rem;
	--space-5: 1.5rem;
	--space-6: 2rem;

	--radius-xs: 0.5rem;
	--radius-sm: 0.75rem;
	--radius-md: 1rem;
	--radius-lg: 1.5rem;
	--radius-xl: 2rem;

	--font-xs: 0.75rem;
	--font-sm: 0.875rem;
	--font-md: 1rem;
	--font-lg: 1.125rem;
	--font-xl: 1.25rem;
	--font-2xl: 1.5rem;

	--app-gradient: radial-gradient(circle at 0% 0%, rgba(62, 88, 146, 0.45) 0%, transparent 45%),
		radial-gradient(circle at 100% 0%, rgba(33, 69, 120, 0.45) 0%, transparent 50%),
		linear-gradient(180deg, #0b1220 0%, #101a33 40%, #0b1220 100%);

	--nav-surface: linear-gradient(180deg, rgba(16, 26, 45, 0.95) 0%, rgba(12, 20, 35, 0.95) 100%);
	--nav-bottom-surface: linear-gradient(180deg, rgba(17, 27, 49, 0.94) 0%, rgba(10, 18, 33, 0.94) 100%);
	--nav-border: rgba(96, 165, 250, 0.18);

	--input-bg: rgba(16, 26, 45, 0.92);
	--input-border: rgba(148, 163, 184, 0.22);
	--input-placeholder: rgba(203, 213, 225, 0.55);

	--bubble-sent: linear-gradient(135deg, rgba(96, 165, 250, 0.95), rgba(129, 140, 248, 0.95));
	--bubble-received: rgba(24, 37, 63, 0.95);
	--bubble-ai: linear-gradient(135deg, rgba(37, 99, 235, 0.22), rgba(14, 165, 233, 0.24));
}

@layer base {
	*,
	*::before,
	*::after {
		box-sizing: border-box;
	}

	html {
		min-height: 100%;
		scroll-behavior: smooth;
	}

	body {
		min-height: 100vh;
		font-family: 'Inter', system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
		background: var(--app-gradient);
		background-color: var(--background);
		background-attachment: fixed;
		color: var(--text-primary);
		-webkit-font-smoothing: antialiased;
		-moz-osx-font-smoothing: grayscale;
	}

	::selection {
		background: rgba(37, 99, 235, 0.2);
		color: var(--text-primary);
	}

	a {
		color: inherit;
		text-decoration: none;
	}

	button,
	input,
	textarea,
	select {
		font: inherit;
		color: inherit;
		background: transparent;
	}

	input::placeholder,
	textarea::placeholder {
		color: var(--input-placeholder);
	}

	*:focus-visible {
		outline: none;
		box-shadow: 0 0 0 3px rgba(37, 99, 235, 0.25);
		border-radius: 9999px;
	}

	::-webkit-scrollbar {
		width: 6px;
		height: 6px;
	}

	::-webkit-scrollbar-track {
		background: rgba(148, 163, 184, 0.12);
	}

	::-webkit-scrollbar-thumb {
		background: rgba(37, 99, 235, 0.25);
		border-radius: 999px;
	}

	::-webkit-scrollbar-thumb:hover {
		background: rgba(37, 99, 235, 0.4);
	}

	.scrollbar-hide {
		-ms-overflow-style: none;
	}

	.scrollbar-hide::-webkit-scrollbar {
		display: none;
	}
}

@layer components {
	.app-surface {
		background: var(--app-gradient);
	}

	.nav-premium {
		background: var(--nav-surface);
		border-right: 1px solid var(--nav-border);
		color: var(--text-primary);
		box-shadow: var(--shadow-nav);
		-webkit-backdrop-filter: blur(24px);
		backdrop-filter: blur(24px);
	}

	.nav-bottom {
		background: var(--nav-bottom-surface);
		border-top: 1px solid var(--nav-border);
		box-shadow: var(--shadow-nav);
		-webkit-backdrop-filter: blur(20px);
		backdrop-filter: blur(20px);
	}

	.base-gradient {
		background: var(--app-gradient);
		color: var(--text-primary);
	}

	.glass-card {
		background: var(--surface-glass);
		border: 1px solid var(--border-subtle);
		box-shadow: var(--shadow-sm);
		color: var(--text-primary);
		-webkit-backdrop-filter: blur(24px);
		backdrop-filter: blur(24px);
	}

	.glass-card-premium {
		background: linear-gradient(140deg, var(--accent-subtle), rgba(255, 255, 255, 0));
		border: 1px solid rgba(37, 99, 235, 0.18);
		box-shadow: var(--shadow-md);
		color: var(--text-primary);
		-webkit-backdrop-filter: blur(24px);
		backdrop-filter: blur(24px);
	}

	.stack-xs {
		display: flex;
		flex-direction: column;
		gap: var(--space-1);
	}

	.stack-sm {
		display: flex;
		flex-direction: column;
		gap: var(--space-2);
	}

	.stack-md {
		display: flex;
		flex-direction: column;
		gap: var(--space-3);
	}

	.stack-lg {
		display: flex;
		flex-direction: column;
		gap: var(--space-4);
	}

	.cluster-sm {
		display: flex;
		flex-wrap: wrap;
		align-items: center;
		gap: var(--space-2);
	}

	.cluster-md {
		display: flex;
		flex-wrap: wrap;
		align-items: center;
		gap: var(--space-3);
	}

	.panel-base {
		border-radius: var(--radius-lg);
		border: 1px solid var(--border-subtle);
		background: var(--surface-soft);
		box-shadow: var(--shadow-sm);
		-webkit-backdrop-filter: blur(32px);
		backdrop-filter: blur(32px);
	}

	.panel-strong {
		border-radius: var(--radius-xl);
		border: 1px solid var(--border-strong);
		background: var(--surface);
		box-shadow: var(--shadow-md);
		-webkit-backdrop-filter: blur(28px);
		backdrop-filter: blur(28px);
	}

	.icon-button {
		display: inline-flex;
		align-items: center;
		justify-content: center;
		gap: var(--space-2);
		border-radius: 999px;
		border: 1px solid var(--border-subtle);
		background: var(--surface-soft);
		color: var(--text-muted);
		padding: var(--space-2);
		min-width: 3rem;
		min-height: 3rem;
		box-shadow: var(--shadow-sm);
	}

	.icon-button:hover {
		background: var(--surface-strong);
		color: var(--text-primary);
		border-color: rgba(37, 99, 235, 0.2);
	}

	.icon-button.primary {
		background: linear-gradient(135deg, var(--accent), var(--accent-strong));
		color: var(--text-inverse);
		border-color: transparent;
		box-shadow: var(--shadow-glow);
	}

	.icon-button.primary:hover {
		filter: brightness(1.05);
	}

	.chip-button {
		display: inline-flex;
		align-items: center;
		gap: var(--space-2);
		padding: calc(var(--space-1) + 2px) var(--space-3);
		border-radius: 999px;
		border: 1px solid var(--border-subtle);
		background: var(--surface-soft);
		color: var(--text-muted);
		font-size: var(--font-sm);
		font-weight: 500;
		line-height: 1.4;
	}

	.chip-button:hover {
		background: var(--surface-strong);
		color: var(--text-primary);
		border-color: rgba(37, 99, 235, 0.24);
	}

	.glass-effect {
		background: var(--surface-soft);
		border: 1px solid var(--border-subtle);
		box-shadow: var(--shadow-sm);
		-webkit-backdrop-filter: blur(20px);
		backdrop-filter: blur(20px);
	}

	.accent-gradient {
		background-image: linear-gradient(135deg, var(--accent), var(--accent-strong));
		color: var(--text-inverse);
	}

	.menu-gradient {
		background-image: linear-gradient(135deg, rgba(37, 99, 235, 0.16), rgba(59, 130, 246, 0.24));
		color: var(--accent-strong);
	}

	.btn-primary {
		background-image: linear-gradient(135deg, var(--accent), var(--accent-strong));
		color: var(--text-inverse);
		box-shadow: 0 14px 30px rgba(37, 99, 235, 0.2);
		display: inline-flex;
		align-items: center;
		justify-content: center;
		gap: 0.5rem;
		padding: 0.625rem 1.25rem;
		border-radius: 9999px;
		font-weight: 600;
	}

	.btn-primary:hover {
		box-shadow: 0 16px 40px rgba(37, 99, 235, 0.25);
	}

	.btn-primary:focus-visible {
		box-shadow: 0 0 0 4px rgba(37, 99, 235, 0.25);
	}

	.btn-secondary {
		background: var(--surface);
		color: var(--text-muted);
		border: 1px solid var(--border-subtle);
		display: inline-flex;
		align-items: center;
		justify-content: center;
		gap: 0.5rem;
		padding: 0.625rem 1.25rem;
		border-radius: 9999px;
		font-weight: 600;
	}

	.btn-secondary:hover {
		background: var(--surface-strong);
		color: var(--accent);
		border-color: rgba(37, 99, 235, 0.3);
	}

	.nav-item {
		position: relative;
		display: flex;
		align-items: center;
		justify-content: center;
		border-radius: 1rem;
		padding: 0.5rem 0.75rem;
		font-size: 0.875rem;
		font-weight: 500;
		color: var(--text-muted);
		background: transparent;
		border: 1px solid transparent;
	}

	.nav-item:hover {
		color: var(--accent);
		border-color: rgba(37, 99, 235, 0.18);
		background: rgba(37, 99, 235, 0.08);
	}

	.nav-item.active {
		color: var(--accent-strong);
		background: linear-gradient(140deg, var(--accent-subtle), rgba(255, 255, 255, 0.75));
		border: 1px solid rgba(37, 99, 235, 0.25);
		box-shadow: var(--shadow-glow);
	}

	.nav-item.active::after {
		content: '';
		position: absolute;
		inset: 0;
		border-radius: 1rem;
		box-shadow: inset 0 0 0 1px rgba(255, 255, 255, 0.35);
		pointer-events: none;
	}

	.header-premium {
		background: var(--surface-overlay);
		border-bottom: 1px solid var(--border-subtle);
		box-shadow: 0 10px 30px rgba(15, 23, 42, 0.06);
		-webkit-backdrop-filter: blur(24px);
		backdrop-filter: blur(24px);
		color: var(--text-primary);
		position: relative;
		z-index: 50;
	}

	.message-input {
		background: var(--input-bg);
		border: 1px solid var(--input-border);
		border-radius: 9999px;
		padding-left: 1rem;
		padding-right: 1rem;
		color: var(--text-primary);
		box-shadow: inset 0 1px 2px rgba(15, 23, 42, 0.04);
	}

	.chat-bubble-sent {
		background: var(--bubble-sent);
		color: var(--text-inverse);
		box-shadow: var(--shadow-sm);
	}

	.chat-bubble-received {
		background: var(--bubble-received);
		color: var(--text-primary);
		border: 1px solid var(--border-subtle);
		box-shadow: var(--shadow-sm);
	}

	.chat-bubble-ai {
		background: var(--bubble-ai);
		color: var(--text-primary);
		border: 1px solid rgba(37, 99, 235, 0.15);
	}

	.badge-soft {
		background: rgba(37, 99, 235, 0.14);
		color: var(--accent-strong);
		border: 1px solid rgba(37, 99, 235, 0.2);
	}

	.stories-bar-hide {
		transform: translateY(-100%);
		opacity: 0;
	}

	.stories-bar-show {
		transform: translateY(0);
		opacity: 1;
	}

	.context-menu {
		position: fixed !important;
		background: var(--surface) !important;
		border: 1px solid var(--border-subtle) !important;
		box-shadow: var(--shadow-lg) !important;
		border-radius: 18px !important;
		overflow: hidden !important;
		width: 220px !important;
		max-width: calc(100vw - 24px) !important;
		padding: 8px 0 !important;
		z-index: 9999 !important;
		opacity: 1 !important;
		-webkit-backdrop-filter: blur(16px) !important;
		backdrop-filter: blur(16px) !important;
	}

	@media (min-width: 768px) {
		.context-menu {
			width: 240px !important;
		}
	}

	.context-menu-item {
		display: flex !important;
		align-items: center !important;
		gap: 14px !important;
		padding: 12px 16px !important;
		background: transparent !important;
		border: none !important;
		color: var(--text-muted) !important;
		font-size: 14px !important;
		font-weight: 500 !important;
		cursor: pointer !important;
		opacity: 1 !important;
		width: 100% !important;
		text-align: left !important;
	}

	.context-menu-item:hover,
	.context-menu-item:focus {
		background: rgba(37, 99, 235, 0.12) !important;
		color: var(--accent) !important;
	}

	.context-menu-item.destructive {
		color: var(--danger) !important;
	}

	.context-menu-item.destructive:hover {
		background: rgba(220, 38, 38, 0.12) !important;
		color: #b91c1c !important;
	}

	.context-menu-icon {
		width: 18px !important;
		height: 18px !important;
		color: var(--accent) !important;
		opacity: 1 !important;
	}

	.typing-indicator-dot {
		width: 8px;
		height: 8px;
		border-radius: 999px;
		background: rgba(37, 99, 235, 0.35);
		animation: typing-bounce 1.1s infinite ease-in-out;
	}

	.typing-indicator-dot:nth-child(2) {
		animation-delay: 0.18s;
	}

	.typing-indicator-dot:nth-child(3) {
		animation-delay: 0.36s;
	}

	.context-menu-text {
		opacity: 1 !important;
	}

	.EmojiPickerReact {
		--epr-bg-color: var(--surface) !important;
		--epr-category-label-bg-color: transparent !important;
		--epr-picker-border-color: var(--border-subtle) !important;
		--epr-search-input-bg-color: var(--surface-strong) !important;
		--epr-category-navigation-button-color: var(--text-muted) !important;
		--epr-category-navigation-button-color-active: var(--accent) !important;
		--epr-hover-bg-color: rgba(37, 99, 235, 0.12) !important;
		--epr-focus-bg-color: rgba(37, 99, 235, 0.16) !important;
		--epr-text-color: var(--text-primary) !important;
		--epr-search-input-text-color: var(--text-primary) !important;
		--epr-search-border-color: transparent !important;
		-webkit-backdrop-filter: blur(18px) !important;
		backdrop-filter: blur(18px) !important;
		border-radius: 16px !important;
		border: 1px solid var(--border-subtle) !important;
		box-shadow: var(--shadow-lg) !important;
	}

	@media (max-width: 768px) {
		.EmojiPickerReact {
			width: 280px !important;
			height: 320px !important;
		}
	}

	@media (min-width: 769px) {
		.EmojiPickerReact {
			width: 320px !important;
			height: 400px !important;
		}
	}

	.emoji-picker-container {
		position: relative;
		z-index: 9999;
	}

	.emoji-picker-container .emoji-picker-react {
		position: absolute !important;
		bottom: 100% !important;
		right: 0 !important;
		margin-bottom: 12px !important;
	}

	@keyframes typing-bounce {
		0%,
		80%,
		100% {
			transform: translateY(0);
			opacity: 0.6;
		}

		40% {
			transform: translateY(-4px);
			opacity: 1;
		}
	}
}

@layer utilities {
	.text-foreground {
		color: var(--text-primary);
	}

	.text-secondary {
		color: var(--text-secondary);
	}

	.text-muted {
		color: var(--text-muted);
	}

	.text-inverse {
		color: var(--text-inverse);
	}

	.bg-surface {
		background-color: var(--surface);
	}

	.bg-surface-strong {
		background-color: var(--surface-strong);
	}

	.bg-surface-soft {
		background-color: var(--surface-soft);
	}

	.border-subtle {
		border-color: var(--border-subtle);
	}

	.border-strong {
		border-color: var(--border-strong);
	}

	.shadow-soft {
		box-shadow: var(--shadow-sm);
	}

	.shadow-elevated {
		box-shadow: var(--shadow-md);
	}

	.shadow-deep {
		box-shadow: var(--shadow-lg);
	}

	.text-title {
		font-size: var(--font-xl);
		line-height: 1.25;
		font-weight: 600;
	}

	.text-subtitle {
		font-size: var(--font-lg);
		line-height: 1.4;
		font-weight: 500;
	}

	.text-body {
		font-size: var(--font-md);
		line-height: 1.6;
	}

	.text-caption {
		font-size: var(--font-sm);
		line-height: 1.4;
		color: var(--text-muted);
	}
}

	/* stylelint-enable at-rule-no-unknown */
